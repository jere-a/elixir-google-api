# Copyright 2019 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# NOTE: This file is auto generated by the elixir code generator program.
# Do not edit this file manually.

defmodule GoogleApi.ContentWarehouse.V1.Model.CrawlerChangerateUrlChange do
  @moduledoc """
  NEXT_TAG: 13

  ## Attributes

  *   `additionalChangesMerged` (*type:* `integer()`, *default:* `nil`) - Duplicate UrlChanges crawled within a specified time range will be merged together. UrlChanges are considered duplicates if the simhash, simhash_is_trusted, simhash_v2, simhash_v2_is_trusted, and shingle_simhash are the same. additional_changes_merged indiciates the number of duplicate UrlChanges merged into this UrlChange.
  *   `fractionalTileChange` (*type:* `float()`, *default:* `nil`) - Deprecated fields. The fraction of tiles (0 to 1) that changed.
  *   `interval` (*type:* `integer()`, *default:* `nil`) - The length in seconds of the change.
  *   `offDomainLinksChange` (*type:* `boolean()`, *default:* `nil`) - Whether the content of the off-domain links changed.
  *   `offDomainLinksCount` (*type:* `integer()`, *default:* `nil`) - The new count of off-domain links, if they changed.
  *   `onDomainLinksCount` (*type:* `integer()`, *default:* `nil`) - The new count of on-domain links, if the count changed.
  *   `onDomainLinksCountChange` (*type:* `boolean()`, *default:* `nil`) - Whether the number of on-domain links changed.
  *   `shingleSimhash` (*type:* `GoogleApi.ContentWarehouse.V1.Model.IndexingConverterShingleFingerprint.t`, *default:* `nil`) - The old simhash value obtained from shingles.
  *   `simhash` (*type:* `String.t`, *default:* `nil`) - The simhash-v1 value. Use of simhash-v1 is deprecated, and newer UrlChange should only contain simhash-v2. During this transition period, UrlChange can contain either simhash or simhash_v2. It is possible that previous UrlChange only contain simhash-v1 and the next UrlChange only contain simhash-v2. In this case, we skip that interval in our changerate computation. [go/changerate-simhash-v2-migration]
  *   `simhashIsTrusted` (*type:* `boolean()`, *default:* `nil`) - Whether the simhash-v1 should be trusted.
  *   `simhashV2` (*type:* `String.t`, *default:* `nil`) - The simhash-v2 value.
  *   `simhashV2IsTrusted` (*type:* `boolean()`, *default:* `nil`) - Whether the simhash-v2 value should be trusted.
  """

  use GoogleApi.Gax.ModelBase

  @type t :: %__MODULE__{
          :additionalChangesMerged => integer() | nil,
          :fractionalTileChange => float() | nil,
          :interval => integer() | nil,
          :offDomainLinksChange => boolean() | nil,
          :offDomainLinksCount => integer() | nil,
          :onDomainLinksCount => integer() | nil,
          :onDomainLinksCountChange => boolean() | nil,
          :shingleSimhash =>
            GoogleApi.ContentWarehouse.V1.Model.IndexingConverterShingleFingerprint.t() | nil,
          :simhash => String.t() | nil,
          :simhashIsTrusted => boolean() | nil,
          :simhashV2 => String.t() | nil,
          :simhashV2IsTrusted => boolean() | nil
        }

  field(:additionalChangesMerged)
  field(:fractionalTileChange)
  field(:interval)
  field(:offDomainLinksChange)
  field(:offDomainLinksCount)
  field(:onDomainLinksCount)
  field(:onDomainLinksCountChange)

  field(:shingleSimhash,
    as: GoogleApi.ContentWarehouse.V1.Model.IndexingConverterShingleFingerprint
  )

  field(:simhash)
  field(:simhashIsTrusted)
  field(:simhashV2)
  field(:simhashV2IsTrusted)
end

defimpl Poison.Decoder, for: GoogleApi.ContentWarehouse.V1.Model.CrawlerChangerateUrlChange do
  def decode(value, options) do
    GoogleApi.ContentWarehouse.V1.Model.CrawlerChangerateUrlChange.decode(value, options)
  end
end

defimpl Poison.Encoder, for: GoogleApi.ContentWarehouse.V1.Model.CrawlerChangerateUrlChange do
  def encode(value, options) do
    GoogleApi.Gax.ModelBase.encode(value, options)
  end
end
