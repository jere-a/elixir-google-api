# Copyright 2019 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# NOTE: This file is auto generated by the elixir code generator program.
# Do not edit this file manually.

defmodule GoogleApi.ContentWarehouse.V1.Model.ResearchScamNearestNeighbors do
  @moduledoc """
  All nearest neighbors for one data point. Last tag used: 5

  ## Attributes

  *   `docid` (*type:* `String.t`, *default:* `nil`) - Data point for which we computed nearest neighbors. This field is set based on the data_id_str field in the QueryRequest GFV (or SSTable key if data_id_str is not present), and thus can be arbitrary data, e.g. docid, URL, query string.
  *   `metadata` (*type:* `String.t`, *default:* `nil`) - Metadata about the query. This field is populated if and only if: 1) ScaM is running in offline query-database or online mode and; 2) The metadata is directly fetched from the userinfo field inside GFV and; 3) MetadataConfig.userinfo.set_user_info_for_query is set to true. The field name is kept as "metadata" for consistency with neighbors.
  *   `neighbor` (*type:* `list(GoogleApi.ContentWarehouse.V1.Model.ResearchScamNearestNeighborsNeighbor.t)`, *default:* `nil`) - All its neighbors.
  *   `neighborSelectionOverride` (*type:* `GoogleApi.ContentWarehouse.V1.Model.ResearchScamNeighborSelectionOverride.t`, *default:* `nil`) - Propagate neighbor selection override information during offline search.
  *   `query` (*type:* `GoogleApi.ContentWarehouse.V1.Model.ResearchScamGenericFeatureVector.t`, *default:* `nil`) - The query vector for which we computed nearest neighbors.
  *   `retrievedVersion` (*type:* `String.t`, *default:* `nil`) - The version ID of the server that responded to this query, if one was specified. This field is not populated for offline (i.e. Flume rather than RPC) search.
  """

  use GoogleApi.Gax.ModelBase

  @type t :: %__MODULE__{
          :docid => String.t() | nil,
          :metadata => String.t() | nil,
          :neighbor =>
            list(GoogleApi.ContentWarehouse.V1.Model.ResearchScamNearestNeighborsNeighbor.t())
            | nil,
          :neighborSelectionOverride =>
            GoogleApi.ContentWarehouse.V1.Model.ResearchScamNeighborSelectionOverride.t() | nil,
          :query =>
            GoogleApi.ContentWarehouse.V1.Model.ResearchScamGenericFeatureVector.t() | nil,
          :retrievedVersion => String.t() | nil
        }

  field(:docid)
  field(:metadata)

  field(:neighbor,
    as: GoogleApi.ContentWarehouse.V1.Model.ResearchScamNearestNeighborsNeighbor,
    type: :list
  )

  field(:neighborSelectionOverride,
    as: GoogleApi.ContentWarehouse.V1.Model.ResearchScamNeighborSelectionOverride
  )

  field(:query, as: GoogleApi.ContentWarehouse.V1.Model.ResearchScamGenericFeatureVector)
  field(:retrievedVersion)
end

defimpl Poison.Decoder, for: GoogleApi.ContentWarehouse.V1.Model.ResearchScamNearestNeighbors do
  def decode(value, options) do
    GoogleApi.ContentWarehouse.V1.Model.ResearchScamNearestNeighbors.decode(value, options)
  end
end

defimpl Poison.Encoder, for: GoogleApi.ContentWarehouse.V1.Model.ResearchScamNearestNeighbors do
  def encode(value, options) do
    GoogleApi.Gax.ModelBase.encode(value, options)
  end
end
