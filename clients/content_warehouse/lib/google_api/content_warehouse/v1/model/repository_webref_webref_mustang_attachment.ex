# Copyright 2019 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# NOTE: This file is auto generated by the elixir code generator program.
# Do not edit this file manually.

defmodule GoogleApi.ContentWarehouse.V1.Model.RepositoryWebrefWebrefMustangAttachment do
  @moduledoc """
  *** THIS ATTACHMENT IS DEPRECATED, SEE go/udr/migrate-wma. ***. We still allow legacy use case to exist (no forced migration), but we will not accept any new usage of WMA, incl. from existing clients. UDR has the same features and can be used similarly: - To consume the topical entities (+properties, incl. hitcat, browsy, ...) go/udr/migrate-wma provides a migration with minimal changes. - To consume IQL, please consult go/udr/superroot#access and go/pianno team. The top-level proto used to store WebRef entities and IQL expressions in Mustang/TG. The proto uses packed repeated fields and variable-length integers in order to be as compact as possible. See http://b/5802389 and b/7473898 for details on other approaches that were considered and space/readability/extensibility trade-offs made. Note: It is not recommeded to read this proto directly. Clients of the attachment should use the decoder instead: repository/webref/tools/kc/indexing/webref-attachment-decoder.h Next available tag: 25

  ## Attributes

  *   `categoryConfidenceE2` (*type:* `list(integer())`, *default:* `nil`) - The confidence of the category. In the range [0, 100].
  *   `categoryEncodedMid` (*type:* `list(String.t)`, *default:* `nil`) - See go/category-annotations-api about the story behind various types of category annotations that are provided using the catmid token and category_encoded_mid fields below. Some of these annotation types are experimental, so please contact related-entities@ if you consider using this data. For production uses, please: 1. Add your use-case to go/hits-clients. 2. Subscribe to hits-users@ to receive general updates and info about deprecations. To convert it to the string form use metaweb::MidToString(encoded_mid) defined in metaweb/util/mid/mid.h The uint64-encoded MIDs of HitCat categories. See google3/repository/webref/hits/hitcat/category.textproto for the complete list of HitCat categories. Should have the same number of elements as the category_confidence_e2 field.
  *   `confidenceE2` (*type:* `list(integer())`, *default:* `nil`) - The confidence scores of all entities in the encoded_mid array. For space reasons this is also represented as a fixed-point integer with two decimal precision. Convert it to confidence_score using the following formula: float confidence_score = confidence_e2 / 100.0f Should have the same number of elements as the encoded_mid field.
  *   `encodedMid` (*type:* `list(String.t)`, *default:* `nil`) - The int64-encoded MIDs of the entities in the document sorted by topicality score. To convert it to the string form use metaweb::MidToString(encoded_mid) defined in metaweb/util/mid/mid.h Should have the same number of elements as the topicality_e2 field.
  *   `entityMetadata` (*type:* `list(GoogleApi.ContentWarehouse.V1.Model.RepositoryWebrefWebrefAttachmentMetadata.t)`, *default:* `nil`) - Per-entity metadata. Not packed (not every entity has metadata). If you'd like to add per-document metadata, see document_metadata instead.
  *   `iqlAttachment` (*type:* `GoogleApi.ContentWarehouse.V1.Model.KnowledgeAnswersIntentQueryIndexingIQLAttachment.t`, *default:* `nil`) - A sub-proto to encode IQL expressions. To be used by Pianno page-level intents and Webref Compounds.
  *   `isAuthorIndex` (*type:* `list(integer())`, *default:* `nil`) - The indices of all the reference entities in encoded_mid that are authors of the page. Not packed as in most cases when populated, it contains 1 element.
  *   `isPublisherIndex` (*type:* `list(integer())`, *default:* `nil`) - The indices of all the reference entities in encoded_mid that are publishers of the page (e.g. /m/cnn on "http://www.cnn.com/foo/bar"). Not packed as in most cases when populated, it contains 1 element.
  *   `referencePageIndex` (*type:* `list(integer())`, *default:* `nil`) - Only populated when the document is a reference page for an entity. Contains the indices of all reference entities in the encoded_mid and topicality_e2 arrays. Not packed as in most cases when populated, it contains 1 element.
  *   `topicalityE2` (*type:* `list(integer())`, *default:* `nil`) - The topicality scores of all entities in the encoded_mid array. For space reasons this is represented as a fixed-point integer with two decimal points precision. Convert it to topicality_score using the following formula: float topicality_score = topicality_e2 / 100.f Should have the same number of elements as the encoded_mid field.
  *   `unboundIntentMid` (*type:* `list(String.t)`, *default:* `nil`) - The uint64-encoded MID of the unbound intents generated by Pianno. An unbound intent is the annotation of an intent without slots arguments (e.g. Age) declared in Intent Catalog. See go/pianno-asteroid-belt-migration for details. We only keep the top unbound intents with the highest orbit scores. Should have the same number of elements as unbound_intent_score_e2.
  *   `unboundIntentScoreE2` (*type:* `list(integer())`, *default:* `nil`) - The confidence of the unbound intent. represented as a fixed-point integer with two decimal precision. In the range [0, 100]. Should have the same number of elements as unbound_intent_mid.
  """

  use GoogleApi.Gax.ModelBase

  @type t :: %__MODULE__{
          :categoryConfidenceE2 => list(integer()) | nil,
          :categoryEncodedMid => list(String.t()) | nil,
          :confidenceE2 => list(integer()) | nil,
          :encodedMid => list(String.t()) | nil,
          :entityMetadata =>
            list(GoogleApi.ContentWarehouse.V1.Model.RepositoryWebrefWebrefAttachmentMetadata.t())
            | nil,
          :iqlAttachment =>
            GoogleApi.ContentWarehouse.V1.Model.KnowledgeAnswersIntentQueryIndexingIQLAttachment.t()
            | nil,
          :isAuthorIndex => list(integer()) | nil,
          :isPublisherIndex => list(integer()) | nil,
          :referencePageIndex => list(integer()) | nil,
          :topicalityE2 => list(integer()) | nil,
          :unboundIntentMid => list(String.t()) | nil,
          :unboundIntentScoreE2 => list(integer()) | nil
        }

  field(:categoryConfidenceE2, type: :list)
  field(:categoryEncodedMid, type: :list)
  field(:confidenceE2, type: :list)
  field(:encodedMid, type: :list)

  field(:entityMetadata,
    as: GoogleApi.ContentWarehouse.V1.Model.RepositoryWebrefWebrefAttachmentMetadata,
    type: :list
  )

  field(:iqlAttachment,
    as: GoogleApi.ContentWarehouse.V1.Model.KnowledgeAnswersIntentQueryIndexingIQLAttachment
  )

  field(:isAuthorIndex, type: :list)
  field(:isPublisherIndex, type: :list)
  field(:referencePageIndex, type: :list)
  field(:topicalityE2, type: :list)
  field(:unboundIntentMid, type: :list)
  field(:unboundIntentScoreE2, type: :list)
end

defimpl Poison.Decoder,
  for: GoogleApi.ContentWarehouse.V1.Model.RepositoryWebrefWebrefMustangAttachment do
  def decode(value, options) do
    GoogleApi.ContentWarehouse.V1.Model.RepositoryWebrefWebrefMustangAttachment.decode(
      value,
      options
    )
  end
end

defimpl Poison.Encoder,
  for: GoogleApi.ContentWarehouse.V1.Model.RepositoryWebrefWebrefMustangAttachment do
  def encode(value, options) do
    GoogleApi.Gax.ModelBase.encode(value, options)
  end
end
